<!DOCTYPE html><html> <head><meta charset=UTF-8><title>GoPay Admin</title><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta http-equiv=X-UA-Compatible content="IE=Edge"><link rel=stylesheet title=default href=/res/sdk/sdk.css><link rel=stylesheet href=/res/sdk/helper.css><link rel=stylesheet href=/res/sdk/iconfont.css><script src=/res/sdk/sdk.js></script><!-- <script src="https://unpkg.com/vue@2"></script> --><script src=https://unpkg.com/history@4.10.1/umd/history.js></script><style>
    html,
    body,
    .app-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style></head> <body> <script>window.api_prefix='/api/'+window.location.href.match(/\/page\/(user|admin)/)[1];if(window.location.href.match(/\/page\/user/)){window.is_user=true;}</script> <div id=root class=app-wrapper></div> <script>(function(){let amis=amisRequire('amis/embed');const amis_lib=amisRequire('amis');const match=amisRequire('path-to-regexp').match;const history=History.createHashHistory();const app={"type":'app',"brandName":'umFaka',"header":{"type":"container","style":{"margin-left":"auto"},"body":{"label":"\u9000\u51fa","type":"button","confirmText":"\u786e\u8ba4\u8981\u9000\u51fa\u767b\u5f55\uff1f","level":"danger","onEvent":{"click":{"actions":[{"actionType":"ajax","args":{"api":{url:"${window:api_prefix}/logout","method":"post","data":{}}},"redirect":"/"},]}}}},"onEvent":{"init":{"actions":[{"actionType":"custom","script":""},{"actionType":"ajax","args":{"api":{"url":"${window:api_prefix}/info","method":"post",}},},{"actionType":"custom","script":"Object.assign(window, event.data.responseData);"},],}},"pages":[{"label":"404","url":"/404"},{"label":"Home","url":"/","redirect":"/dashboard/"},{"children":[{"label":"\u4eea\u8868\u76d8","url":"/dashboard/","icon":"fa fa-tachometer","schema":{"type":"page","name":"dashboard","data":{},"body":[{"type":"service","api":"post:${window:api_prefix}/dashboard","body":{"type":"grid","columns":[{"type":"panel","title":"\u9500\u552e\u53d8\u52a8","body":{"type":"grid","columns":[{"type":"tpl","tpl":"\u4eca\u65e5\u9500\u552e $today_income \uffe5"},{"type":"tpl","tpl":"\u6628\u65e5\u9500\u552e $yesterday_income \uffe5"}]}},{"type":"panel","title":"\u6c47\u7387\u4fe1\u606f","body":{"type":"grid","columns":[{"name":"balance_data","type":"container","body":[{"type":"tpl","html":"\u5b9e\u65f6\u6c47\u7387"},{"name":"real_time_exchange_data.exchange_rate","label":"\u4f59\u989d","type":"each","items":{"type":"tpl","tpl":"$key:$value <br/>"}},{"type":"tpl","html":"<%= '\u66f4\u65b0\u65f6\u95f4:'+this.real_time_exchange_data.update_time %>"}]},{"name":"balance_data","type":"container","body":[{"type":"tpl","html":"\u56fa\u5b9a\u6c47\u7387"},{"name":"fix_exchange_data","label":"\u4f59\u989d","type":"each","items":{"type":"tpl","tpl":"$key:$value <br/>"}},{"type":"tpl","html":"<%= '\u662f\u5426\u542f\u7528\u56fa\u5b9a\u6c47\u7387:'+ (this.enable_fix_exchange ? '\u662f' : '\u5426') %>"}]}]}}]}},{"type":"form","title":"\u9500\u552e\u60c5\u51b5","mode":"inline","target":"chart1","className":"text-center","body":[{"type":"select","placeholder":"\u8ba2\u5355\u8d27\u5e01","clearable":true,"name":"currency","value":"","source":"${window:crypto_currencies}"},{"type":"input-date-range","name":"timestamp_range","value":"-7days, +0days","ranges":["today","yesterday","30daysago"]},{"type":"submit","level":"primary","label":"\u67e5\u8be2"},{"type":"chart","name":"chart1","api":"post:${window:api_prefix}/dashboard_chart"}]}]}},{"label":"\u7528\u6237","url":"/user/","icon":"fa fa-user-o","schema":{"type":"page","name":"user","body":[{"type":"crud","name":"crud","syncLocation":false,"api":"post:${window:api_prefix}/user","perPage":20,"filter":{"title":null,"body":[{"type":"input-text","name":"keywords","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22","size":"sm"},{"type":"input-datetime-range","name":"timestamp_range"},{"type":"submit","level":"primary","label":"\u67e5\u8be2"},{"type":"button","label":"\u521b\u5efa\u7528\u6237","actionType":"dialog","dialog":{"title":"\u521b\u5efa\u7528\u6237","body":{"type":"form","api":"${window:api_prefix}/user_create","reload":"crud","body":[{"type":"input-text","name":"username","label":"\u7528\u6237\u540d"}]}}}]},"bulkActions":[{"label":"\u6279\u91cf\u5220\u9664","type":"button","level":"danger","actionType":"ajax","api":"delete:https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/sample/$ids","confirmText":"\u786e\u5b9a\u8981\u6279\u91cf\u5220\u9664?"}],"columns":[{"name":"id","label":"ID","sortable":true},{"name":"username","label":"\u7528\u6237\u540d"},{"name":"status","label":"\u72b6\u6001","sortable":true,"type":"mapping","map":{"1":{"type":"button","label":"\u7981\u7528","level":"danger","actionType":"ajax","api":{"method":"post","url":"${window:api_prefix}/user_switch_status","data":{"user_id":"${id}","status":0}}},"0":{"type":"button","label":"\u542f\u7528","level":"success","actionType":"ajax","api":{"method":"post","url":"${window:api_prefix}/user_switch_status","data":{"user_id":"${id}","status":1}}}}},{"name":"balance_info","label":"\u4f59\u989d","type":"each","source":"${balance_info}","items":{"type":"tpl","tpl":"$key:$value <br/>"}},{"name":"create_time","label":"\u6ce8\u518c\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"create_ip","label":"\u6ce8\u518cip"},{"name":"login_time","label":"\u767b\u5f55\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"login_ip","label":"\u767b\u5f55ip"},{"name":"points","label":"\u79ef\u5206"},{"name":"plan","label":"vip"},{"name":"expire_time","label":"\u8fc7\u671f\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"type":"operation","label":"\u64cd\u4f5c","width":"","buttons":[{"type":"button-group","buttons":[{"type":"button","label":"\u8be6\u7ec6","onEvent":{"click":{"actions":[{"actionType":"dialog","args":{"dialog":{"type":"dialog","size":"xl","title":"\u8ba2\u5355\u8be6\u7ec6\u4fe1\u606f","data":{"order_info":"${event.data}"},"body":{"type":"static-json","name":"order_info"}}}}]}}},{"type":"button","label":"\u5145\u503c","level":"primary","actionType":"dialog","dialog":{"title":"\u5145\u503c\u79ef\u5206","body":{"type":"form","api":"${window:api_prefix}/user_recharge","reload":"crud","body":[{"label":"ID","type":"input-text","name":"id","static":true},{"label":"\u7528\u6237\u540d","type":"input-text","name":"username","static":true},{"type":"input-text","name":"amount","label":"\u5145\u503c\u79ef\u5206","value":0}]}}},{"type":"button","label":"\u5220\u9664","level":"danger","actionType":"ajax","confirmText":"\u60a8\u786e\u8ba4\u8981\u5220\u9664?","api":"post:${window:api_prefix}/user_delete"}]}],"placeholder":"-","fixed":"right"}],"affixHeader":true,"columnsTogglable":"auto","placeholder":"\u6682\u65e0\u6570\u636e","tableClassName":"table-db table-striped","headerClassName":"crud-table-header","footerClassName":"crud-table-footer","toolbarClassName":"crud-table-toolbar","combineNum":0,"bodyClassName":"panel-default"}]},"hiddenOn":"true"},{"label":"\u8ba2\u5355","url":"/order/","icon":"fa fa-bars","schema":{"type":"page","name":"order","body":[{"type":"crud","name":"crud","syncLocation":true,"api":{"method":"post","url":"${window:api_prefix}/order","data":{"&":"$$","id":"$keyword","wallet_id":"$keyword","wallet_address":"$keyword","tg_username":"$keyword"}},"perPage":20,"filter":{"title":null,"body":[{"type":"input-text","name":"keyword","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22"},{"type":"select","name":"status","placeholder":"\u8ba2\u5355\u72b6\u6001","overlay":{"width":100},"value":null,"options":[{"label":"\u5168\u90e8","value":""},{"label":"\u5f85\u652f\u4ed8","value":"0"},{"label":"\u5df2\u652f\u4ed8","value":"1"},{"label":"\u8d85\u65f6","value":"-1"},{"label":"\u5f3a\u884c\u5173\u95ed","value":"-2"}]},{"type":"select","name":"network","placeholder":"\u4e3b\u7f51","overlay":{"width":100},"value":null,"clearable":true,"source":"${window:networks}"},{"type":"select","name":"currency","placeholder":"\u8d27\u5e01","overlay":{"width":100},"value":null,"clearable":true,"source":"${window:currency_list}"},{"type":"input-datetime-range","name":"timestamp_range"},{"type":"submit","level":"primary","label":"\u67e5\u8be2"}]},"bulkActions":[{"label":"\u91ca\u653e\u8ba2\u5355","icon":"fas fa-rocket","level":"danger","actionType":"ajax","api":"post:${window:api_prefix}/release_orders","confirmText":"\u786e\u5b9a?"}],"headerToolbar":["bulkActions","pagination"],"columns":[{"name":"id","label":"ID"},{"name":"create_time","label":"\u521b\u5efa\u65f6\u95f4","type":"date","sortable":true,"format":"YYYY-MM-DD HH:mm:ss"},{"name":"end_time","label":"\u7ed3\u675f\u65f6\u95f4","type":"date","sortable":true,"format":"YYYY-MM-DD HH:mm:ss"},{"name":"status","label":"\u72b6\u6001","type":"mapping","map":{"1":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--success cxd-Tag--normal--hasColor cxd-Tag-text'>\u5df2\u652f\u4ed8</span>","0":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--processing cxd-Tag--normal--hasColor cxd-Tag-text'>\u5f85\u652f\u4ed8</span>","-1":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--error cxd-Tag--normal--hasColor cxd-Tag-text'>\u8d85\u65f6</span>","-2":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--error cxd-Tag--normal--hasColor cxd-Tag-text'>\u5f3a\u884c\u5173\u95ed</span>"}},{"name":"currency","label":"\u8d27\u5e01"},{"name":"network","label":"\u4e3b\u7f51"},{"name":"price","label":"\u5e94\u4ed8\u91d1\u989d","sortable":true},{"name":"paid_price","label":"\u5df2\u4ed8\u91d1\u989d","sortable":true},{"name":"wallet_address","label":"\u6536\u6b3e\u94b1\u5305"},{"name":"wallet_type","label":"\u94b1\u5305\u7c7b\u578b","type":"mapping","map":{"1":"<span>\u56fa\u5b9a\u91d1\u989d</span>","2":"<span>\u5c0f\u6570\u70b9\u5c3e\u6570</span>"}},{"name":"tg_chat_id","label":"\u7528\u6237"},{"type":"operation","label":"\u64cd\u4f5c","buttons":[{"type":"button-group","buttons":[{"type":"button","label":"\u8be6\u7ec6","onEvent":{"click":{"actions":[{"actionType":"dialog","args":{"dialog":{"type":"dialog","size":"xl","title":"\u8ba2\u5355\u8be6\u7ec6\u4fe1\u606f","data":{"order_info":"${event.data}"},"body":{"type":"static-json","name":"order_info"}}}}]}}}]}],"placeholder":"-","fixed":"right"}],"affixHeader":true,"columnsTogglable":"auto","placeholder":"\u6682\u65e0\u6570\u636e","tableClassName":"table-db table-striped","headerClassName":"crud-table-header","footerClassName":"crud-table-footer","toolbarClassName":"crud-table-toolbar","combineNum":0,"bodyClassName":"panel-default"}]}},{"label":"\u5546\u54c1","url":"/product/","icon":"fa fa-btc","schema":{"type":"page","name":"product","body":[{"type":"crud","name":"product_crud","syncLocation":true,"api":{"method":"post","url":"${window:api_prefix}/product","data":{"&":"$$","id":"$keyword"}},"perPage":20,"quickSaveItemApi":{"url":"${window:api_prefix}/edit_product","data":{"id":"${id}","priority":"${priority}"}},"filter":{"title":null,"body":[{"type":"input-text","name":"keyword","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22","clearValueOnEmpty":true},{"type":"input-datetime-range","name":"timestamp_range"},{"type":"submit","level":"primary","label":"\u67e5\u8be2"}]},"bulkActions":[{"label":"\u6279\u91cf\u5220\u9664","level":"danger","actionType":"ajax","api":"post:${window:api_prefix}/delete_products","confirmText":"\u786e\u5b9a\u8981\u6279\u91cf\u5220\u9664?"}],"headerToolbar":["bulkActions","pagination",{"type":"button","label":"\u521b\u5efa\u5546\u54c1","icon":"fa fa-plus","level":"primary","actionType":"dialog","dialog":{"title":"\u521b\u5efa\u5546\u54c1","body":{"type":"form","api":"${window:api_prefix}/create_product","body":[{"type":"input-text","name":"name","label":"\u5546\u54c1\u540d\u79f0","required":true},{"type":"textarea","name":"description","label":"\u5546\u54c1\u63cf\u8ff0"},{"type":"select","name":"currency","placeholder":"\u8ba1\u4ef7\u8d27\u5e01","source":"${window:currencies}","required":true},{"type":"input-number","precision":9,"name":"price","label":"\u4ef7\u683c","required":true}]}}}],"columns":[{"name":"id","label":"ID"},{"name":"create_time","label":"\u521b\u5efa\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"name","label":"\u540d\u79f0"},{"name":"status","label":"\u542f\u7528","type":"switch","onEvent":{"change":{"actions":[{"actionType":"ajax","args":{"api":{"url":"${window:api_prefix}/edit_product","method":"post","data":{"id":"$id","status":"${status ? 1 : 0}"}}}}]}}},{"name":"price","label":"\u4ef7\u683c","sortable":true},{"name":"currency","label":"\u8d27\u5e01"},{"name":"in_stock_count","label":"\u5e93\u5b58"},{"name":"priority","label":"\u4f18\u5148\u5ea6","sortable":true,"quickEdit":{"mode":"popOver","type":"input-number","size":"xs","saveImmediately":true}},{"type":"operation","label":"\u64cd\u4f5c","width":"","buttons":[{"type":"button","label":"\u8be6\u7ec6","onEvent":{"click":{"actions":[{"actionType":"dialog","args":{"dialog":{"type":"dialog","size":"xl","title":"\u8be6\u7ec6\u4fe1\u606f","data":{"product_info":"${event.data}"},"body":{"type":"static-json","name":"product_info"}}}}]}}},{"type":"button","label":"\u7f16\u8f91","actionType":"dialog","dialog":{"title":"\u7f16\u8f91\u5546\u54c1\u4fe1\u606f","body":[{"type":"form","api":"${window:api_prefix}/edit_product","data":{"id":"$id"},"body":[{"type":"input-text","name":"name","label":"\u5546\u54c1\u540d\u79f0","required":true},{"type":"textarea","name":"description","label":"\u5546\u54c1\u63cf\u8ff0"},{"type":"input-number","precision":9,"name":"price","label":"\u4ef7\u683c"}]}]}},{"type":"button","label":"\u5546\u54c1\u9879\u76ee","actionType":"dialog","dialog":{"size":"xl","title":"\u5546\u54c1\u9879\u76ee","body":[{"type":"crud","name":"product_item_crud","syncLocation":false,"api":{"method":"post","url":"${window:api_prefix}/product_item","data":{"&":"$$","product_id":"${id}","status":"$product_item_status","order_id":"$keyword","id":"$keyword"}},"perPage":20,"filter":{"title":null,"body":[{"type":"input-text","name":"keyword","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22","clearValueOnEmpty":true},{"type":"select","name":"product_item_status","placeholder":"\u8ba2\u5355\u72b6\u6001","overlay":{"width":100},"value":"","options":[{"label":"\u5168\u90e8","value":""},{"label":"\u672a\u552e\u51fa","value":"1"},{"label":"\u552e\u51fa","value":"-1"},{"label":"\u5f85\u652f\u4ed8","value":"0"}]},{"type":"submit","level":"primary","label":"\u67e5\u8be2"}]},"bulkActions":[{"label":"\u6279\u91cf\u5220\u9664","icon":"fas fa-times","level":"danger","actionType":"ajax","api":"post:${window:api_prefix}/delete_product_items","confirmText":"\u786e\u5b9a\u8981\u6279\u91cf\u5220\u9664?"}],"headerToolbar":["bulkActions","pagination",{"type":"button","label":"\u521b\u5efa\u5546\u54c1\u9879\u76ee","icon":"fa fa-plus","level":"primary","actionType":"dialog","dialog":{"title":"\u521b\u5efa\u5546\u54c1\u9879\u76ee","body":{"type":"form","api":{"method":"post","url":"${window:api_prefix}/create_product_items","data":{"&":"$$","product_id":"${id}"}},"body":[{"type":"textarea","name":"content","label":"\u9879\u76ee\u5185\u5bb9(\u6bcf\u4e00\u884c\u521b\u5efa\u4e00\u4e2a\u9879\u76ee)","required":true}]}}}],"columns":[{"name":"create_time","label":"\u521b\u5efa\u65f6\u95f4","type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"status","label":"\u72b6\u6001","type":"mapping","map":{"-1":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--success cxd-Tag--normal--hasColor cxd-Tag-text'>\u552e\u51fa</span>","1":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--processing cxd-Tag--normal--hasColor cxd-Tag-text'>\u672a\u552e\u51fa</span>","0":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--warning cxd-Tag--normal--hasColor cxd-Tag-text'>\u5f85\u652f\u4ed8</span>"}},{"type":"tpl","label":"\u5185\u5bb9","name":"content","tpl":"${content|truncate:5}","popOver":{"trigger":"hover","position":"left-top","showIcon":false,"body":{"type":"tpl","tpl":"${content}"}}},{"name":"order_id","label":"\u8ba2\u5355ID","type":"tpl","tpl":"${order_id}","onEvent":{"click":{"actions":[{"actionType":"link","args":{"url":"/order/","params":{"keyword":"${order_id}"}}}]}}}],"affixHeader":true,"columnsTogglable":false,"placeholder":"\u6682\u65e0\u6570\u636e"}]}}]}],"affixHeader":true,"columnsTogglable":false,"placeholder":"\u6682\u65e0\u6570\u636e"}]}},{"label":"\u94b1\u5305","url":"/wallet/","icon":"fa fa-btc","schema":{"type":"page","name":"wallet","body":[{"type":"crud","name":"crud","syncLocation":true,"api":{"method":"post","url":"${window:api_prefix}/wallet","data":{"&":"$$","id":"$keyword","address":"$keyword"}},"perPage":20,"quickSaveItemApi":{"url":"${window:api_prefix}/edit_wallet","data":{"id":"${id}","priority":"${priority}"}},"filter":{"title":null,"body":[{"type":"input-text","name":"keyword","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22"},{"type":"select","name":"status","placeholder":"\u94b1\u5305\u7c7b\u578b","overlay":{"width":150},"clearable":true,"value":null,"options":[{"label":"\u7a7a\u95f2","value":"1"},{"label":"\u5360\u7528","value":"0"},{"label":"\u5c0f\u6570\u70b9\u5c3e\u6570\u94b1\u5305","value":"2"}]},{"type":"select","name":"network","placeholder":"\u4e3b\u7f51","overlay":{"width":100},"value":null,"clearable":true,"source":"${window:networks}"},{"type":"input-datetime-range","name":"timestamp_range"},{"type":"submit","level":"primary","label":"\u67e5\u8be2"}]},"bulkActions":[{"label":"\u6279\u91cf\u5220\u9664","level":"danger","icon":"fas fa-times","actionType":"ajax","api":"post:${window:api_prefix}/delete_wallets","confirmText":"\u786e\u5b9a\u8981\u6279\u91cf\u5220\u9664?"},{"label":"\u6279\u91cf\u5237\u65b0","level":"success","icon":"fas fa-sync-alt","actionType":"ajax","api":"post:${window:api_prefix}/refresh_wallets","hidden":true}],"headerToolbar":["bulkActions","pagination",{"type":"button","label":"\u5168\u90e8\u5220\u9664","level":"danger","icon":"fas fa-times","confirmText":"\u786e\u5b9a\u8981\u5168\u90e8\u5220\u9664?","actionType":"dialog","dialog":{"title":"\u5168\u90e8\u5220\u9664","body":"\u771f\u7684\u5417?","actions":[{"type":"button","label":"Confirm","actionType":"dialog","dialog":{"title":"\u5168\u90e8\u5220\u9664","body":"\u6211\u4e0d\u4fe1","actions":[{"type":"button","label":"\u6211\u786e\u5b9a\u8981\u5220\u9664","actionType":"ajax","confirmText":"\u6700\u540e\u4e00\u6b21","api":"post:${window:api_prefix}/delete_all_wallets"}]}}]}},{"type":"button","label":"\u6dfb\u52a0\u94b1\u5305","level":"primary","icon":"fas fa-plus","actionType":"dialog","dialog":{"title":"\u6dfb\u52a0\u94b1\u5305","body":{"type":"form","api":"${window:api_prefix}/import_wallet","reload":"crud","body":[{"name":"wallet_data","type":"textarea","label":"\u94b1\u5305\u5730\u5740\uff08\u4e00\u884c\u4e00\u4e2a\uff0c\u94b1\u5305\u5bc6\u94a5\u7528\u9017\u53f7\u6216\u5236\u8868\u7b26\u9694\u5f00\uff0c\u5bc6\u94a5\u53ef\u4e0d\u586b\uff09","required":true},{"type":"list-select","name":"network","label":"\u4e3b\u7f51\u7c7b\u578b","clearable":true,"source":"${window:networks}","required":true},{"type":"list-select","name":"wallet_type","label":"\u94b1\u5305\u7c7b\u578b","clearable":true,"required":true,"options":[{"label":"\u4efb\u610f\u91d1\u989d","value":1},{"label":"\u5c0f\u6570\u70b9","value":2}]},{"type":"input-number","name":"priority","label":"\u4f18\u5148\u5ea6","value":0,"required":true}]}}},{"type":"button","label":"\u751f\u6210\u94b1\u5305","level":"primary","icon":"fas fa-terminal","actionType":"dialog","dialog":{"title":"\u521b\u5efa\u94b1\u5305","body":{"type":"form","api":"${window:api_prefix}/generate_wallet","reload":"crud","body":[{"type":"input-number","name":"num","label":"\u94b1\u5305\u6570\u91cf","value":1,"min":1},{"type":"list-select","name":"wallet_type","label":"\u94b1\u5305\u7c7b\u578b","clearable":true,"options":[{"label":"\u4efb\u610f\u91d1\u989d","value":1},{"label":"\u5c0f\u6570\u70b9","value":2}],"required":true},{"type":"list-select","name":"network","label":"\u4e3b\u7f51","source":"${window:networks}","required":true}]}}},{"type":"button","label":"\u5bfc\u51fa\u94b1\u5305","level":"primary","icon":"fas fa-download","actionType":"url","confirmText":"\u8c28\u614e\u4f7f\u7528\uff0c\u5982\u679c\u94b1\u5305\u542b\u6709\u5bc6\u94a5\u4fe1\u606f\uff0c\u8bf7\u786e\u4fdd\u60a8\u7684\u7f51\u7edc\u548c\u7535\u8111\u5904\u4e8e\u5b89\u5168\u72b6\u6001","url":"${window:api_prefix}/export_wallets"}],"columns":[{"name":"create_time","label":"\u521b\u5efa\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"address","label":"\u94b1\u5305\u5730\u5740"},{"name":"network","label":"\u94b1\u5305\u4e3b\u7f51"},{"name":"status","label":"\u94b1\u5305\u7c7b\u578b","type":"mapping","map":{"1":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--success cxd-Tag--normal--hasColor cxd-Tag-text'>\u4efb\u610f\u91d1\u989d(\u7a7a\u95f2)</span>","0":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--processing cxd-Tag--normal--hasColor cxd-Tag-text'>\u4efb\u610f\u91d1\u989d(\u5360\u7528)</span>","2":"<span class='cxd-Tag cxd-Tag--normal cxd-Tag--normal--processing cxd-Tag--normal--hasColor cxd-Tag-text'>\u5c0f\u6570\u70b9\u94b1\u5305</span>"}},{"name":"balance_data","label":"\u4f59\u989d\u4fe1\u606f","type":"container","body":[{"name":"balance_data","label":"\u4f59\u989d","type":"each","source":"${balance_data}","items":{"type":"tpl","tpl":"$key:$value <br/>"}},{"type":"tpl","html":"<%= formatTimeStamp(this.refresh_time, format='YYYY-MM-DD HH:mm:ss') %>","hiddenOn":"this.refresh_time == 0"}]},{"name":"priority","label":"\u4f18\u5148\u5ea6","sortable":true,"quickEdit":{"mode":"popOver","type":"input-number","size":"xs","saveImmediately":true}},{"type":"operation","label":"\u64cd\u4f5c","width":"","buttons":[{"type":"button-group","buttons":[{"type":"button","label":"\u8be6\u7ec6","onEvent":{"click":{"actions":[{"actionType":"dialog","args":{"dialog":{"type":"dialog","size":"xl","title":"\u8ba2\u5355\u8be6\u7ec6\u4fe1\u606f","data":{"order_info":"${event.data}"},"body":{"type":"static-json","name":"order_info"}}}}]}}},{"type":"button","label":"\u5237\u65b0\u4f59\u989d","level":"info","actionType":"ajax","reload":"crud","api":"${window:api_prefix}/refresh_wallet"}]}],"placeholder":"-","fixed":"right"}],"affixHeader":true,"columnsTogglable":"auto","placeholder":"\u6682\u65e0\u6570\u636e","tableClassName":"table-db table-striped","headerClassName":"crud-table-header","footerClassName":"crud-table-footer","toolbarClassName":"crud-table-toolbar","combineNum":0,"bodyClassName":"panel-default"}]}},{"label":"\u4ea4\u6613","url":"/transfer/","icon":"fa fa-money","schema":{"type":"page","name":"transfer","body":[{"type":"crud","name":"sample","syncLocation":true,"api":{"method":"post","url":"${window:api_prefix}/transfer","data":{"&":"$$","id":"$keyword","from_address":"$keyword","to_address":"$keyword","order_id":"$keyword","transaction_id":"$keyword"}},"perPage":20,"filter":{"title":null,"body":[{"type":"input-text","name":"keyword","clearable":true,"placeholder":"\u901a\u8fc7\u5173\u952e\u5b57\u641c\u7d22"},{"type":"select","name":"cate","placeholder":"\u4ea4\u6613\u5206\u7c7b","overlay":{"width":150},"clearable":true,"value":null,"options":[{"label":"\u672a\u5206\u7c7b","value":"0"},{"label":"\u4efb\u610f\u91d1\u989d\u94b1\u5305\u4ea4\u6613","value":"1"},{"label":"\u5c0f\u6570\u70b9\u94b1\u5305\u4ea4\u6613","value":"2"}]},{"type":"select","name":"network","placeholder":"\u4e3b\u7f51","overlay":{"width":100},"value":null,"clearable":true,"source":"${window:networks}"},{"type":"select","name":"currency","placeholder":"\u8d27\u5e01","overlay":{"width":100},"value":null,"clearable":true,"source":"${window:crypto_currencies}"},{"type":"input-datetime-range","name":"timestamp_range"},{"type":"submit","level":"primary","label":"\u67e5\u8be2"}]},"columns":[{"name":"create_time","label":"\u521b\u5efa\u65f6\u95f4","sortable":true,"type":"date","format":"YYYY-MM-DD HH:mm:ss"},{"name":"transaction_id","label":"\u4ea4\u6613id","type":"html","html":" ","copyable":true},{"name":"cate","label":"\u5206\u7c7b","type":"mapping","map":{"0":"\u672a\u5206\u7c7b","1":"\u4efb\u610f\u91d1\u989d\u94b1\u5305\u4ea4\u6613","2":"\u5c0f\u6570\u70b9\u94b1\u5305\u4ea4\u6613"}},{"name":"from_address","label":"\u4ed8\u6b3e\u5730\u5740","classNameExpr":"<%= this.price < 0 ? 'text-danger' : '' %>"},{"name":"to_address","label":"\u6536\u6b3e\u5730\u5740","classNameExpr":"<%= this.price > 0 ? 'text-danger' : '' %>"},{"name":"currency","label":"\u8d27\u5e01"},{"name":"network","label":"\u4e3b\u7f51"},{"name":"price","label":"\u91d1\u989d"},{"name":"order_id","label":"\u8ba2\u5355","type":"tpl","tpl":"${order_id}","onEvent":{"click":{"actions":[{"actionType":"link","args":{"url":"/order/","params":{"keyword":"${order_id}"}}}]}}},{"type":"operation","label":"\u64cd\u4f5c","hiddenOn":"window.is_user","buttons":[{"type":"button-group","buttons":[{"type":"button","label":"\u8be6\u7ec6","onEvent":{"click":{"actions":[{"actionType":"dialog","args":{"dialog":{"type":"dialog","size":"xl","title":"\u8ba2\u5355\u8be6\u7ec6\u4fe1\u606f","data":{"order_info":"${event.data}"},"body":{"type":"static-json","name":"order_info"}}}}]}}}]}],"placeholder":"-","fixed":"right"}],"affixHeader":true,"columnsTogglable":"auto","placeholder":"\u6682\u65e0\u6570\u636e","tableClassName":"table-db table-striped","headerClassName":"crud-table-header","footerClassName":"crud-table-footer","toolbarClassName":"crud-table-toolbar","combineNum":0,"bodyClassName":"panel-default"}]}},{"label":"\u8bbe\u7f6e","url":"/setting/","icon":"fa fa-cog","schema":{"type":"page","name":"setting","body":{"type":"crud","name":"crud","api":"post:${window:api_prefix}/setting","mode":"list","placeholder":"\u5f53\u524d\u7ec4\u5185, \u8fd8\u6ca1\u6709\u914d\u7f6e\u4efb\u4f55\u6743\u9650.","syncLocation":false,"title":null,"listItem":{"title":"${name +': ' +desc}","subTitle":"${ ISTYPE(value, 'plain-object') ? ENCODEJSON(value) : value }","actions":[{"icon":"fa fa-edit","actionType":"dialog","dialog":{"title":"\u7f16\u8f91\u8bbe\u7f6e","body":[{"type":"form","api":"post:${window:api_prefix}/edit_setting","body":[{"type":"hidden","name":"key","value":"${key}"},{"type":"mapping","name":"${type}","source":"${key}","map":{"int":{"type":"input-number","name":"value","mode":"horizontal","label":"${name}","value":"${value}"},"string":{"type":"input-text","name":"value","mode":"horizontal","label":"${name}","value":"${value}"},"decimal":{"type":"input-text","name":"value","mode":"horizontal","label":"${name}","value":"${value}"},"bool":{"type":"switch","name":"value","mode":"horizontal","label":"${name}","value":"${value}"},"json":{"type":"json","levelExpand":10,"name":"value","mutable":true,"value":"${value}"}}}],"rules":[{"rule":"Object.keys(data).includes('value')","message":"\u672a\u4fee\u6539"}]},{"type":"html","html":"<br /><span class='text-sm '>\u8bf4\u660e\uff1a$desc</span>"}]}}]}}}},{"label":"\u53cb\u60c5\u94fe\u63a5","icon":"fa fa-link","children":[{"label":"\ud835\udd3b\ud835\udd52\u0301\ud835\udd68\ud835\udd56\u0301\ud835\udd5f \ud835\udd3b\ud835\udd56\ud835\udd67","link":"https://t.me/DawenDev"},{"label":"annona\u652f\u6301\u9891\u9053","link":"https://t.me/annonaOrg"},{"label":"AnnonaOrg","link":"https://github.com/AnnonaOrg"}]}]}],"data":{"api_prefix":"/api/admin"}};function normalizeLink(to,location=history.location){to=to||'';if(to&&to[0]==='#'){to=location.pathname+location.search+to;}else if(to&&to[0]==='?'){to=location.pathname+to;}
const idx=to.indexOf('?');const idx2=to.indexOf('#');let pathname=~idx?to.substring(0,idx):~idx2?to.substring(0,idx2):to;let search=~idx?to.substring(idx,~idx2?idx2:undefined):'';let hash=~idx2?to.substring(idx2):location.hash;if(!pathname){pathname=location.pathname;}else if(pathname[0]!='/'&&!/^https?\:\/\//.test(pathname)){let relativeBase=location.pathname;const paths=relativeBase.split('/');paths.pop();let m;while((m=/^\.\.?\//.exec(pathname))){if(m[0]==='../'){paths.pop();}
pathname=pathname.substring(m[0].length);}
pathname=paths.concat(pathname).join('/');}
return pathname+search+hash;}
function isCurrentUrl(to,ctx){if(!to){return false;}
const pathname=history.location.pathname;const link=normalizeLink(to,{...location,pathname,hash:''});if(!~link.indexOf('http')&&~link.indexOf(':')){let strict=ctx&&ctx.strict;return match(link,{decode:decodeURIComponent,strict:typeof strict!=='undefined'?strict:true})(pathname);}
return decodeURI(pathname)===link;}
let amisInstance=amis.embed('#root',app,{location:history.location},{updateLocation:(location,replace)=>{location=normalizeLink(location);if(location==='goBack'){return history.goBack();}else if((!/^https?\:\/\//.test(location)&&location===history.location.pathname+history.location.search)||location===history.location.href){return;}else if(/^https?\:\/\//.test(location)||!history){return(window.location.href=location);}
history[replace?'replace':'push'](location);},jumpTo:(to,action)=>{if(to==='goBack'){return history.goBack();}
to=normalizeLink(to);if(isCurrentUrl(to)){return;}
if(action&&action.actionType==='url'){action.blank===false?(window.location.href=to):window.open(to,'_blank');return;}else if(action&&action.blank){window.open(to,'_blank');return;}
if(/^https?:\/\//.test(to)){window.location.href=to;}else if((!/^https?\:\/\//.test(to)&&to===history.pathname+history.location.search)||to===history.location.href){}else{history.push(to);}},isCurrentUrl:isCurrentUrl,theme:'cxd',enableAMISDebug:true,responseAdaptor(api,payload,query,request,response){if(api.url.startsWith("/api")&&response.data.code===401){amis_lib.toast.error('\u672a\u767b\u5f55');window.location.href='/index/';history.push("/404/");}
if(response.data.code===400){amis_lib.toast.error(response.data.msg);}
return payload;}});history.listen(state=>{amisInstance.updateProps({location:state.location||state});});})();</script> </body> </html>